<!DOCTYPE HTML>
<html lang="en">
	<head>
		<meta charset="utf-8">
		<meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
		<meta name="description" content="">
		<meta name="author" content="">
		
		<title>Analytics</title>
		
		<script src="https://code.highcharts.com/stock/highstock.js"></script>
		<script src="https://code.jquery.com/jquery-3.2.1.min.js" integrity="sha256-hwg4gsxgFZhOsEEamdOYGBf13FyQuiTwlAQgxVSNgt4=" crossorigin="anonymous"></script>
		<script src="https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.11.0/umd/popper.min.js" integrity="sha384-b/U6ypiBEHpOf/4+1nzFpr53nxSS+GLCkfwBdFNTxtclqqenISfwAzpKaMNFNmj4" crossorigin="anonymous"></script>
		
		<link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/4.0.0-beta/css/bootstrap.min.css" integrity="sha384-/Y6pD6FV/Vv2HJnA6t+vslU6fwYXjCFtcEpHbNJ0lyAFsXTsjBbfaDjzALeQsN6M" crossorigin="anonymous">
		<script src="https://maxcdn.bootstrapcdn.com/bootstrap/4.0.0-beta/js/bootstrap.min.js" integrity="sha384-h0AbiXch4ZDo7tp9hKZ4TsHbi047NrKGLO3SEJAg45jXxnGIfYzk4Si90RDIqNm1" crossorigin="anonymous"></script>
		
		<link href="/resource/css/dashboard.css" rel="stylesheet">
	
		<script src="http://d3js.org/d3.v3.min.js"></script>
		<script src="/resource/js/liquidFillGauge.js"></script>
		
		<script>
			var graphID = "statewide-solid-waste-reduction-percent";
			
			$(document).on("DOMContentLoaded", function (event) {
				var jqXHR = $.get("/api/get/" + graphID, function (data) {
					var graphData = JSON.parse(data);
					
					var chart = Highcharts.stockChart("graph-container", {
						credits: false,
						rangeSelector: {
						selected: 1
						},
						chart: {
							type: 'areaspline',
							zoomType: "x"
						},
						title: {
							text: graphData.title
						},
						subtitle: {
							text: 'Subtitle'
						},
						xAxis: {
							title: {
								text: graphData.x_label
							},
							allowDecimals: false,
							labels: {
								formatter: function () {
									return this.value; // clean, unformatted number for year
								}
							},
							plotLines: [{
								color: 'red', // Color value
								dashStyle: 'longdashdot', // Style of the plot line. Default to solid
								value: 1980, // Value of where the line will appear
								width: 2 // Width of the line
							}]
						},
						yAxis: {
							title: {
								text: graphData.y_label
							},
							labels: {
								formatter: function () {
									return this.value;
								}
							}
						},
						tooltip: {
							pointFormat: 'Hawaii consumed <b>{point.y:,.0f}</b><br/>units petroleum in {point.x}'
						},
						plotOptions: {
							area: {
								pointStart: 1940,
								marker: {
									enabled: false,
									symbol: 'circle',
									radius: 2,
									states: {
										hover: {
											enabled: true
										}
									}
								}
							}
						},
						series: [{
							name: "",
							data: graphData.data
						}]
					});
				});
			});
		</script>
		
		<style>
			.liquidFillGaugeText { font-family: Helvetica; font-weight: bold; }
		</style>
	</head>
	
	<body>
		<nav class="navbar navbar-expand-md navbar-dark bg-dark">
			<a class="navbar-brand" href="#"></a>
			<button class="navbar-toggler d-lg-none" type="button" data-toggle="collapse" data-target="#navbarsExampleDefault" aria-controls="navbarsExampleDefault" aria-expanded="false" aria-label="Toggle navigation">
				<span class="navbar-toggler-icon"></span>
			</button>
			
			<div class="collapse navbar-collapse" id="navbarsExampleDefault">
				<ul class="navbar-nav mr-auto">
					<li class="nav-item">
						<a class="nav-link" href="/">Home </a>
					</li>
					<li class="nav-item active">
						<a class="nav-link" href="#">Analytics <span class="sr-only">(current)</span></a>
					</li>
					<li class="nav-item"> 
						<a class="nav-link" href="/data-upload/clean-energy">Upload</a>
					</li>
				</ul>
				<form class="form-inline mt-2 mt-md-0">
					<input class="form-control mr-sm-2" type="text" placeholder="Search" aria-label="Search">
					<button class="btn btn-outline-success my-2 my-sm-0" type="submit">Search</button>
				</form>
			</div>
		</nav>
		
		<div class="container-fluid">
			<div class="row">
				<nav class="col-sm-3 col-md-2 d-none d-sm-block bg-light sidebar">
					<ul class="nav nav-pills flex-column">
						<li class="nav-item">
							<a class="nav-link" href="/analytics/clean-energy">Energy</a>
						</li>
						<li class="nav-item">
							<a class="nav-link active" href="/analytics/waste-reduction">Waste<span class="sr-only">(current)</span></a>
						</li>
						<li class="nav-item">
							<a class="nav-link" href="/analytics/local-food">Food</a>
						</li>
						<li class="nav-item">
							<a class="nav-link" href="/analytics/resource-management">Nature</a>
						</li>
					</ul>
				</nav>
				<div id="graph-container" class="graph"></div>
				<main class="col-sm-9 ml-sm-auto col-md-10 pt-3" role="main">
					<h1>WASTE ENERGY TRANSFORMATION GOAL DESCRIPTION: </h1>
					<p>The U.S. Environmental Protection Agency’s (EPA) Definition of Reuse: The recovery or reapplication of a package, used product, or material in a manner that retains its original form or identity Reuse is one of the three “R’s” of Solid Waste Reduction (Reduce, Reuse and Recycle). Reuse of materials is a key strategy in meeting the Aloha+ Challenge Waste Target.
						The Reuse goal for the Dashboard is not yet specified because of data gaps. Hawaii’s counties currently do not measure this activity because it is not regulated or managed through government operations. Most Reuse happens in the private sector with businesses, non-profits, church groups and through community events. The statewide Dashboard Team will continue to work on addressing these gaps and share information as it becomes available.
						EPA says that the most effective way to reduce waste is to not create it in the first place. Making a new product requires a lot of materials and energy: raw materials must be extracted from the earth, and the product must be fabricated and then transported to wherever it will be sold. As a result, reduction and reuse are the most effective ways you can save natural resources, protect the environment, and save money.
						Why Reuse?
						One of the best ways to live zero waste is to Reuse. Reuse means using things multiple times, buying gently used items, repairing rather than buying new, donating to charities and community groups, or re-selling items.
						These actions prevent solid waste from entering the landfill, allow our communities to flourish and make our islands a better place to live. Just by taking useful products discarded by those who no longer want them and providing them to those who do helps more citizens on our islands. In many cases, reuse supports local community and social programs while providing donors with tax benefits and reduced disposal fees.
						Replacing single-use items with reusable goods whenever possible is even better than recycling because the item does not need to be reprocessed before it can be used again.
						Reuse in Hawaii
						Hawaii has many organizations involved in Reuse including Goodwill Industries, Salvation Army, Habitat for Humanity and many more. Cooperative agreements with large retailers like Target Stores or Home Depot provide a “second life” to many products that would otherwise end up in our landfills.
					</p>
					<svg id="fillgauge1" width="97%" height="250" onclick="gauge1.update(NewValue());"></svg>
					<svg id="fillgauge2" width="19%" height="200" onclick="gauge2.update(NewValue());"></svg>
					<svg id="fillgauge3" width="19%" height="200" onclick="gauge3.update(NewValue());"></svg>
					<svg id="fillgauge4" width="19%" height="200" onclick="gauge4.update(NewValue());"></svg>
					<svg id="fillgauge5" width="19%" height="200" onclick="gauge5.update(NewValue());"></svg>
					<svg id="fillgauge6" width="19%" height="200" onclick="gauge6.update(NewValue());"></svg>
					<script language="JavaScript">
						var gauge1 = loadLiquidFillGauge("fillgauge1", 55);
						var config1 = liquidFillGaugeDefaultSettings();
						config1.circleColor = "#FF7777";
						config1.textColor = "#FF4444";
						config1.waveTextColor = "#FFAAAA";
						config1.waveColor = "#FFDDDD";
						config1.circleThickness = 0.2;
						config1.textVertPosition = 0.2;
						config1.waveAnimateTime = 1000;
						var gauge2= loadLiquidFillGauge("fillgauge2", 28, config1);
						var config2 = liquidFillGaugeDefaultSettings();
						config2.circleColor = "#D4AB6A";
						config2.textColor = "#553300";
						config2.waveTextColor = "#805615";
						config2.waveColor = "#AA7D39";
						config2.circleThickness = 0.1;
						config2.circleFillGap = 0.2;
						config2.textVertPosition = 0.8;
						config2.waveAnimateTime = 2000;
						config2.waveHeight = 0.3;
						config2.waveCount = 1;
						var gauge3 = loadLiquidFillGauge("fillgauge3", 60.1, config2);
						var config3 = liquidFillGaugeDefaultSettings();
						config3.textVertPosition = 0.8;
						config3.waveAnimateTime = 5000;
						config3.waveHeight = 0.15;
						config3.waveAnimate = false;
						config3.waveOffset = 0.25;
						config3.valueCountUp = false;
						config3.displayPercent = false;
						var gauge4 = loadLiquidFillGauge("fillgauge4", 50, config3);
						var config4 = liquidFillGaugeDefaultSettings();
						config4.circleThickness = 0.15;
						config4.circleColor = "#808015";
						config4.textColor = "#555500";
						config4.waveTextColor = "#FFFFAA";
						config4.waveColor = "#AAAA39";
						config4.textVertPosition = 0.8;
						config4.waveAnimateTime = 1000;
						config4.waveHeight = 0.05;
						config4.waveAnimate = true;
						config4.waveRise = false;
						config4.waveHeightScaling = false;
						config4.waveOffset = 0.25;
						config4.textSize = 0.75;
						config4.waveCount = 3;
						var gauge5 = loadLiquidFillGauge("fillgauge5", 60.44, config4);
						var config5 = liquidFillGaugeDefaultSettings();
						config5.circleThickness = 0.4;
						config5.circleColor = "#6DA398";
						config5.textColor = "#0E5144";
						config5.waveTextColor = "#6DA398";
						config5.waveColor = "#246D5F";
						config5.textVertPosition = 0.52;
						config5.waveAnimateTime = 5000;
						config5.waveHeight = 0;
						config5.waveAnimate = false;
						config5.waveCount = 2;
						config5.waveOffset = 0.25;
						config5.textSize = 1.2;
						config5.minValue = 30;
						config5.maxValue = 150
						config5.displayPercent = false;
						var gauge6 = loadLiquidFillGauge("fillgauge6", 120, config5);
						
						function NewValue(){
							if(Math.random() > .5){
								return Math.round(Math.random()*100);
							} else {
								return (Math.random()*100).toFixed(1);
							}
						}
					</script>
				</main>
			</div>
		</div>
	</body>
</html>